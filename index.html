<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Esmeraldas Colombianas | Joyería Certificada</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Estilos personalizados complementarios */
    .tab-content {
      display: none;
    }
    .tab-content.active {
      display: block;
      animation: fadeIn 0.5s;
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .tab-button.active {
      border-bottom: 3px solid #065f46;
      color: #065f46;
      font-weight: 600;
    }
    .product-card:hover {
      transform: translateY(-5px);
    }
    .page-section {
      display: none;
    }
    .page-section.active {
      display: block;
      animation: fadeIn 0.5s;
    }
    .mobile-menu {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease-out;
    }
    .mobile-menu.open {
      max-height: 500px;
    }
    .loading-spinner {
      display: inline-block;
      width: 20px;
      height: 20px;
      border: 3px solid rgba(255,255,255,.3);
      border-radius: 50%;
      border-top-color: #fff;
      animation: spin 1s ease-in-out infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    .product-specs {
      font-size: 0.85rem;
      color: #4b5563;
    }
    .original-price {
      text-decoration: line-through;
      color: #9ca3af;
    }
    @keyframes fade-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    .animate-fade-in {
      animation: fade-in 0.3s ease-in;
    }
  </style>
</head>
<body class="bg-white font-sans">
  <!-- Header -->
  <header class="bg-emerald-900 text-white shadow-md sticky top-0 z-50">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="flex items-center">
        <img src="https://via.placeholder.com/50" alt="Logo" class="h-10 mr-3">
        <h1 class="text-xl md:text-2xl font-bold">Esmeraldas Colombianas</h1>
      </div>
      <nav class="hidden md:block">
        <ul class="flex space-x-6">
          <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="home">Inicio</a></li>
          <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="collections">Colecciones</a></li>
          <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="certificates">Certificados</a></li>
          <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="about">Nosotros</a></li>
          <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="contact">Contacto</a></li>
        </ul>
      </nav>
      <button id="mobile-menu-button" class="md:hidden text-2xl">
        <i class="fas fa-bars"></i>
      </button>
    </div>
    <!-- Mobile Menu -->
    <div id="mobile-menu" class="mobile-menu bg-emerald-800 md:hidden">
      <ul class="px-4 py-2 space-y-2">
        <li><a href="#" class="nav-link block py-2 hover:text-emerald-200 transition" data-page="home">Inicio</a></li>
        <li><a href="#" class="nav-link block py-2 hover:text-emerald-200 transition" data-page="collections">Colecciones</a></li>
        <li><a href="#" class="nav-link block py-2 hover:text-emerald-200 transition" data-page="certificates">Certificados</a></li>
        <li><a href="#" class="nav-link block py-2 hover:text-emerald-200 transition" data-page="about">Nosotros</a></li>
        <li><a href="#" class="nav-link block py-2 hover:text-emerald-200 transition" data-page="contact">Contacto</a></li>
      </ul>
    </div>
  </header>

  <!-- Page Sections -->
  <main>
    <!-- Home Section -->
    <section id="home" class="page-section active">
      <!-- Hero Section -->
      <section class="bg-gradient-to-r from-emerald-800 to-emerald-600 text-white py-16">
        <div class="container mx-auto px-4 text-center">
          <h2 class="text-3xl md:text-5xl font-bold mb-4">Esmeraldas Colombianas de Alta Calidad</h2>
          <p class="text-xl mb-8 max-w-2xl mx-auto">Descubre nuestra exclusiva colección de joyería certificada, extraída y elaborada en Colombia.</p>
          <a href="#products" class="bg-white text-emerald-900 font-bold py-3 px-8 rounded-full hover:bg-gray-100 transition">Ver Colección</a>
        </div>
      </section>
        <!-- About Section -->
      <section class="py-12 bg-gray-50">
        <div class="container mx-auto px-4">
          <div class="flex flex-col md:flex-row items-center">
            <div class="md:w-1/2 mb-8 md:mb-0 md:pr-8">
              <img src="https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Esmeraldas Colombianas" class="rounded-lg shadow-lg w-full">
            </div>
            <div class="md:w-1/2">
              <h2 class="text-3xl font-bold text-emerald-900 mb-4">Nuestra Historia</h2>
              <p class="text-gray-700 mb-4">Desde 1985, Esmeraldas Colombianas ha sido sinónimo de calidad y excelencia en la joyería de esmeraldas. Nuestra pasión por estas piedras preciosas nos ha llevado a crear piezas únicas que capturan la esencia de Colombia.</p>
              <p class="text-gray-700 mb-6">Cada pieza en nuestra colección es cuidadosamente seleccionada y certificada, garantizando autenticidad y calidad excepcional.</p>
              <a href="#" class="nav-link inline-block bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-6 rounded transition" data-page="about">Conoce más</a>
            </div>
          </div>
        </div>
      </section>

      <!-- Tabs Navigation -->
      <div class="bg-white sticky top-16 z-30 shadow-sm">
        <div class="container mx-auto px-4">
          <div class="flex overflow-x-auto hide-scrollbar">
            <button class="tab-button active px-6 py-4 whitespace-nowrap" data-tab="all">Todos</button>
            <button class="tab-button px-6 py-4 whitespace-nowrap" data-tab="rings">Anillos</button>
            <button class="tab-button px-6 py-4 whitespace-nowrap" data-tab="earrings">Aretes</button>
            <button class="tab-button px-6 py-4 whitespace-nowrap" data-tab="bracelets">Pulseras</button>
            <button class="tab-button px-6 py-4 whitespace-nowrap" data-tab="stones">Piedras</button>
            <button class="tab-button px-6 py-4 whitespace-nowrap" data-tab="charms">Dijes</button>
            <button id="refresh-products" class="px-4 py-4 text-emerald-600 hover:text-emerald-800 transition">
              <i class="fas fa-sync-alt"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Contenedor de Productos -->
      <section id="products" class="py-12 bg-gray-50">
        <div class="container mx-auto px-4">
          <h2 class="text-3xl font-bold text-center text-emerald-900 mb-8">Nuestros Productos</h2>
                                          <!-- Loading State -->
          <div id="loading-products" class="text-center py-8 hidden">
            <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-emerald-600 mb-4"></div>
            <p class="text-gray-600">Actualizando productos...</p>
          </div>

          <!-- Tab Content - All Products -->
          <div id="all" class="tab-content active">
            <div id="products-grid-all" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
          </div>

          <!-- Tab Content - Rings -->
          <div id="rings" class="tab-content">
            <div id="products-grid-rings" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
          </div>

          <!-- Tab Content - Earrings -->
          <div id="earrings" class="tab-content">
            <div id="products-grid-earrings" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
          </div>

          <!-- Tab Content - Bracelets -->
          <div id="bracelets" class="tab-content">
            <div id="products-grid-bracelets" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
          </div>

          <!-- Tab Content - Stones -->
          <div id="stones" class="tab-content">
            <div id="products-grid-stones" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
          </div>

          <!-- Tab Content - Charms -->
          <div id="charms" class="tab-content">
            <div id="products-grid-charms" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
          </div>
        </div>
      </section>
    </section>

    <!-- Collections Section -->
    <section id="collections" class="page-section py-12">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-emerald-900 mb-8">Nuestras Colecciones</h2>
                                      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
          <!-- Collection 1 -->
          <div class="bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://images.unsplash.com/photo-1602173574767-37ac01994b2a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Colección Clásica" class="w-full h-64 object-cover">
            <div class="p-6">
              <h3 class="text-xl font-bold text-emerald-900 mb-2">Colección Clásica</h3>
              <p class="text-gray-600 mb-4">Piezas atemporales que combinan la belleza natural de las esmeraldas con diseños elegantes y sofisticados.</p>
              <a href="#" class="category-link inline-block bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded transition" data-tab="rings">Ver colección</a>
            </div>
          </div>
                                              <!-- Collection 2 -->
          <div class="bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Piedras en Bruto" class="w-full h-64 object-cover">
            <div class="p-6">
              <h3 class="text-xl font-bold text-emerald-900 mb-2">Piedras en Bruto</h3>
              <p class="text-gray-600 mb-4">Esmeraldas colombianas en su estado más puro, perfectas para coleccionistas y conocedores.</p>
              <a href="#" class="category-link inline-block bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded transition" data-tab="stones">Ver colección</a>
            </div>
          </div>
                                              <!-- Collection 3 -->
          <div class="bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition">
            <img src="https://images.unsplash.com/photo-1611591437281-4608be122683?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Diseños Modernos" class="w-full h-64 object-cover">
            <div class="p-6">
              <h3 class="text-xl font-bold text-emerald-900 mb-2">Diseños Modernos</h3>
              <p class="text-gray-600 mb-4">Innovadoras creaciones que fusionan tradición y vanguardia en cada pieza.</p>
              <a href="#" class="category-link inline-block bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-4 rounded transition" data-tab="charms">Ver colección</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Certificates Section -->
    <section id="certificates" class="page-section py-12 bg-gray-50">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-emerald-900 mb-8">Certificados de Autenticidad</h2>
                                      <div class="flex flex-col md:flex-row items-center mb-12">
          <div class="md:w-1/2 mb-8 md:mb-0 md:pr-8">
            <img src="https://images.unsplash.com/photo-1589829545856-d10d557cf95f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Certificados" class="rounded-lg shadow-lg w-full">
          </div>
          <div class="md:w-1/2">
            <h3 class="text-2xl font-bold text-emerald-800 mb-4">Garantía de Calidad</h3>
            <p class="text-gray-700 mb-4">Todas nuestras esmeraldas vienen con certificado de autenticidad emitido por laboratorios gemológicos reconocidos internacionalmente.</p>
            <p class="text-gray-700 mb-4">Nuestros certificados incluyen:</p>
            <ul class="list-disc pl-5 mb-6 text-gray-700 space-y-2">
              <li>Origen colombiano verificable</li>
              <li>Características de la piedra (quilates, medidas, color, claridad)</li>
              <li>Análisis de tratamientos (si los hay)</li>
              <li>Número de certificado único</li>
            </ul>
            <a href="#" class="inline-block bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-6 rounded transition">Ver ejemplo de certificado</a>
          </div>
        </div>
                                      <div class="bg-white p-8 rounded-lg shadow-md">
          <h3 class="text-2xl font-bold text-emerald-800 mb-6 text-center">Cómo Verificar tu Certificado</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="text-center p-4">
              <div class="bg-emerald-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-search text-emerald-700 text-2xl"></i>
              </div>
              <h4 class="font-bold text-emerald-900 mb-2">1. Localiza el número</h4>
              <p class="text-gray-600">Encuentra el número único de certificado en tu documento.</p>
            </div>
            <div class="text-center p-4">
              <div class="bg-emerald-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-laptop text-emerald-700 text-2xl"></i>
              </div>
              <h4 class="font-bold text-emerald-900 mb-2">2. Visita nuestro sitio</h4>
              <p class="text-gray-600">Ingresa a nuestra sección de verificación de certificados.</p>
            </div>
            <div class="text-center p-4">
              <div class="bg-emerald-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4">
                <i class="fas fa-check-circle text-emerald-700 text-2xl"></i>
              </div>
              <h4 class="font-bold text-emerald-900 mb-2">3. Confirma autenticidad</h4>
              <p class="text-gray-600">Ingresa el número y verifica los detalles de tu piedra.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About Us Section -->
    <section id="about" class="page-section py-12 bg-white">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-emerald-900 mb-8">Sobre Nosotros</h2>
                                      <div class="flex flexocol md:flex-row items-center mb-12">
          <div class="md:w-1/2 mb-8 md:mb-0 md:pr-8">
            <img src="https://images.unsplash.com/photo-1519817650390-64a93db51149?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=500&q=80" alt="Nuestra Historia" class="rounded-lg shadow-lg w-full">
          </div>
          <div class="md:w-1/2">
            <h3 class="text-2xl font-bold text-emerald-800 mb-4">Nuestra Historia</h3>
            <p class="text-gray-700 mb-4">Fundada en 1985 en Bogotá, Colombia, Esmeraldas Colombianas nació del sueño de compartir la belleza de nuestras esmeraldas con el mundo. Lo que comenzó como un pequeño taller familiar hoy es una empresa reconocida internacionalmente por su calidad y ética en el comercio de esmeraldas.</p>
            <p class="text-gray-700 mb-6">Trabajamos directamente con mineros responsables en las regiones de Muzo, Chivor y Coscuez, asegurando prácticas justas y sostenibles en toda nuestra cadena de suministro.</p>
            <div class="flex space-x-4">
              <div class="text-center">
                <p class="text-3xl font-bold text-emerald-700">35+</p>
                <p class="text-gray-600">Años de experiencia</p>
              </div>
              <div class="text-center">
                <p class="text-3xl font-bold text-emerald-700">10,000+</p>
                <p class="text-gray-600">Clientes satisfechos</p>
              </div>
            </div>
          </div>
        </div>
                                      <div class="bg-gray-50 p-8 rounded-lg shadow-md mb-12">
          <h3 class="text-2xl font-bold text-emerald-800 mb-6 text-center">Nuestros Valores</h3>
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="bg-white p-6 rounded-lg shadow-sm">
              <div class="text-emerald-600 mb-3">
                <i class="fas fa-gem text-3xl"></i>
              </div>
              <h4 class="font-bold text-emerald-900 mb-2">Calidad</h4>
              <p class="text-gray-600">Seleccionamos solo las mejores esmeraldas, certificando su autenticidad y características.</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm">
              <div class="text-emerald-600 mb-3">
                <i class="fas fa-hand-holding-heart text-3xl"></i>
              </div>
              <h4 class="font-bold text-emerald-900 mb-2">Responsabilidad</h4>
              <p class="text-gray-600">Promovemos prácticas mineras responsables y comercio justo en todas nuestras operaciones.</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-sm">
              <div class="text-emerald-600 mb-3">
                <i class="fas fa-award text-3xl"></i>
              </div>
              <h4 class="font-bold text-emerald-900 mb-2">Artesanía</h4>
              <p class="text-gray-600">Nuestros joyeros combinan técnicas tradicionales con innovación en cada pieza.</p>
            </div>
          </div>
        </div>
                                      <div>
          <h3 class="text-2xl font-bold text-emerald-800 mb-6 text-center">Nuestro Equipo</h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="María Gómez" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
              <h4 class="font-bold text-emerald-900">María Gómez</h4>
              <p class="text-gray-600 mb-2">Directora de Diseño</p>
              <p class="text-sm text-gray-500">20 años creando joyas excepcionales</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="Carlos Rodríguez" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
              <h4 class="font-bold text-emerald-900">Carlos Rodríguez</h4>
              <p class="text-gray-600 mb-2">Gemólogo Certificado</p>
              <p class="text-sm text-gray-500">Especialista en esmeraldas colombianas</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <img src="https://randomuser.me/api/portraits/women/44.jpg" alt="Laura Martínez" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
              <h4 class="font-bold text-emerald-900">Laura Martínez</h4>
              <p class="text-gray-600 mb-2">Relaciones con Mineros</p>
              <p class="text-sm text-gray-500">Garantizando comercio justo</p>
            </div>
            <div class="bg-white p-6 rounded-lg shadow-md text-center">
              <img src="https://randomuser.me/api/portraits/men/75.jpg" alt="Andrés López" class="w-32 h-32 rounded-full mx-auto mb-4 object-cover">
              <h4 class="font-bold text-emerald-900">Andrés López</h4>
              <p class="text-gray-600 mb-2">Servicio al Cliente</p>
              <p class="text-sm text-gray-500">Atendiendo tus consultas</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="page-section py-12 bg-gray-50">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-emerald-900 mb-8">Contáctanos</h2>
                                      <div class="flex flex-col lg:flex-row gap-8">
          <div class="lg:w-1/2">
            <div class="bg-white p-8 rounded-lg shadow-md">
              <h3 class="text-2xl font-bold text-emerald-800 mb-6">Información de Contacto</h3>
                                                                  <div class="space-y-4">
                <div class="flex items-start">
                  <div class="text-emerald-600 mr-4 mt-1">
                    <i class="fas fa-map-marker-alt text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800">Oficina Principal</h4>
                    <p class="text-gray-600">Carrera 7 # 72-41, Bogotá, Colombia</p>
                  </div>
                </div>
                                                              <div class="flex items-start">
                  <div class="text-emerald-600 mr-4 mt-1">
                    <i class="fas fa-phone-alt text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800">Teléfonos</h4>
                    <p class="text-gray-600">+57 1 123 4567 (Fijo)</p>
                    <p class="text-gray-600">+57 300 123 4567 (Móvil/WhatsApp)</p>
                  </div>
                </div>
                                                              <div class="flex items-start">
                  <div class="text-emerald-600 mr-4 mt-1">
                    <i class="fas fa-envelope text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800">Correo Electrónico</h4>
                    <p class="text-gray-600">info@esmeraldascolombianas.com</p>
                    <p class="text-gray-600">ventas@esmeraldascolombianas.com</p>
                  </div>
                </div>
                                                              <div class="flex items-start">
                  <div class="text-emerald-600 mr-4 mt-1">
                    <i class="fas fa-clock text-xl"></i>
                  </div>
                  <div>
                    <h4 class="font-bold text-gray-800">Horario de Atención</h4>
                    <p class="text-gray-600">Lunes a Viernes: 9:00 am - 6:00 pm</p>
                    <p class="text-gray-600">Sábados: 10:00 am - 2:00 pm</p>
                  </div>
                </div>
              </div>
                                                              <div class="mt-8">
                <h4 class="font-bold text-gray-800 mb-4">Síguenos</h4>
                <div class="flex space-x-4">
                  <a href="#" class="bg-emerald-100 text-emerald-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-emerald-200 transition">
                    <i class="fab fa-facebook-f"></i>
                  </a>
                  <a href="#" class="bg-emerald-100 text-emerald-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-emerald-200 transition">
                    <i class="fab fa-instagram"></i>
                  </a>
                  <a href="#" class="bg-emerald-100 text-emerald-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-emerald-200 transition">
                    <i class="fab fa-tiktok"></i>
                  </a>
                  <a href="#" class="bg-emerald-100 text-emerald-700 w-10 h-10 rounded-full flex items-center justify-center hover:bg-emerald-200 transition">
                    <i class="fab fa-youtube"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
                                                  <div class="lg:w-1/2">
            <div class="bg-white p-8 rounded-lg shadow-md">
              <h3 class="text-2xl font-bold text-emerald-800 mb-6">Envíanos un Mensaje</h3>
                                                              <form id="contact-form" class="space-y-4">
                <div>
                  <label for="name" class="block text-gray-700 font-medium mb-2">Nombre Completo</label>
                  <input type="text" id="name" name="name" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500">
                </div>
                                                              <div>
                  <label for="email" class="block text-gray-700 font-medium mb-2">Correo Electrónico</label>
                  <input type="email" id="email" name="email" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500">
                </div>
                                                              <div>
                  <label for="phone" class="block text-gray-700 font-medium mb-2">Teléfono</label>
                  <input type="tel" id="phone" name="phone" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500">
                </div>
                                                              <div>
                  <label for="subject" class="block text-gray-700 font-medium mb-2">Asunto</label>
                  <select id="subject" name="subject" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500">
                    <option value="">Selecciona un asunto</option>
                    <option value="Consulta">Consulta sobre productos</option>
                    <option value="Certificado">Verificación de certificado</option>
                    <option value="Compra">Proceso de compra</option>
                    <option value="Otro">Otro</option>
                  </select>
                </div>
                                                              <div>
                  <label for="message" class="block text-gray-700 font-medium mb-2">Mensaje</label>
                  <textarea id="message" name="message" rows="4" class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-emerald-500"></textarea>
                </div>
                                                              <button type="submit" class="w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 px-4 rounded transition">
                  Enviar Mensaje
                </button>
              </form>
            </div>
          </div>
        </div>
                                      <div class="mt-12">
          <div class="bg-white p-6 rounded-lg shadow-md">
            <h3 class="text-2xl font-bold text-emerald-800 mb-6 text-center">Visítanos</h3>
            <div class="aspect-w-16 aspect-h-9">
              <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3976.785161881502!2d-74.05528692468066!3d4.651857942358362!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0%3A0x8e3f9a3b0b0b0b0b!2sCarrera%207%20%2372-41%2C%20Bogot%C3%A1!5e0!3m2!1ses!2sco!4v1620000000000!5m2!1ses!2sco" width="100%" height="450" style="border:0;" allowfullscreen="" loading="lazy" class="rounded-lg"></iframe>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- WhatsApp Flotante -->
  <a href="https://wa.me/573001234567" target="_blank"
     class="fixed bottom-6 right-6 bg-green-500 text-white w-16 h-16 rounded-full flex items-center justify-center text-3xl shadow-lg hover:scale-110 transition-transform z-40">
    <i class="fab fa-whatsapp"></i>
  </a>

  <!-- Botón Carrito -->
  <div id="cart-button"
       class="fixed bottom-6 left-6 bg-emerald-900 text-white w-16 h-16 rounded-full flex items-center justify-center shadow-lg z-40 cursor-pointer hover:bg-emerald-800 transition">
    <i class="fas fa-shopping-cart text-2xl"></i>
    <span id="cart-count"
          class="absolute -top-2 -right-2 bg-yellow-500 text-emerald-900 text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center">0</span>
  </div>

  <!-- Sidebar Carrito -->
  <div id="cart-sidebar"
       class="fixed top-0 right-0 w-full md:w-96 h-full bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300 overflow-y-auto">
    <div class="p-6 flex flex-col h-full">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-xl font-bold text-emerald-900">Tu Carrito</h3>
        <button id="close-cart" class="text-gray-500 hover:text-emerald-900 text-2xl">
          &times;
        </button>
      </div>
      <div id="cart-items" class="flex-1 overflow-y-auto">
        <div id="empty-cart-message" class="text-center py-8">
          <i class="fas fa-shopping-cart text-4xl text-gray-300 mb-4"></i>
          <p class="text-gray-500">Tu carrito está vacío</p>
        </div>
      </div>
      <div id="cart-summary" class="border-t pt-4 hidden">
        <div class="flex justify-between mb-2"><span>Subtotal:</span><span id="cart-subtotal" class="font-medium">$0</span></div>
        <div class="flex justify-between mb-2"><span>Envío:</span><span id="cart-shipping" class="font-medium">$20,000</span></div>
        <div class="flex justify-between font-bold text-lg text-emerald-900"><span>Total:</span><span id="cart-total" class="font-bold">$20,000</span></div>
        <div class="mt-4 space-y-2">
          <a href="https://checkout.wompi.co/l/TU_ENLACE" target="_blank"
             class="block bg-blue-600 hover:bg-blue-700 text-white py-3 px-4 rounded-lg text-center transition">
            <i class="fas fa-credit-card mr-2"></i> Wompi (COL)
          </a>
          <a href="https://buy.stripe.com/TU_ENLACE" target="_blank"
             class="block bg-purple-600 hover:bg-purple-700 text-white py-3 px-4 rounded-lg text-center transition">
            <i class="fab fa-stripe mr-2"></i> Stripe (INT)
          </a>
          <form action="https://www.paypal.com/ncp/payment/TU_CODIGO" method="post" target="_blank">
            <button type="submit"
                    class="w-full bg-yellow-500 hover:bg-yellow-600 text-white py-3 px-4 rounded-lg text-center transition">
              <i class="fab fa-paypal mr-2"></i> PayPal
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
  <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden"></div>

  <!-- Footer -->
  <footer class="bg-emerald-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="grid grid-cols-1 md:grid-cols-4 gap-8">
        <div>
          <h3 class="text-xl font-bold mb-4">Esmeraldas Colombianas</h3>
          <p class="mb-4">Joyas certificadas de la más alta calidad, extraídas y elaboradas en Colombia.</p>
          <div class="flex space-x-4">
            <a href="#" class="text-2xl hover:text-emerald-200 transition"><i class="fab fa-facebook"></i></a>
            <a href="#" class="text-2xl hover:text-emerald-200 transition"><i class="fab fa-instagram"></i></a>
            <a href="#" class="text-2xl hover:text-emerald-200 transition"><i class="fab fa-tiktok"></i></a>
          </div>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">Enlaces</h3>
          <ul class="space-y-2">
            <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="home">Inicio</a></li>
            <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="collections">Productos</a></li>
            <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="certificates">Certificados</a></li>
            <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="about">Nosotros</a></li>
            <li><a href="#" class="nav-link hover:text-emerald-200 transition" data-page="contact">Contacto</a></li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">Contacto</h3>
          <ul class="space-y-2">
            <li class="flex items-center"><i class="fas fa-map-marker-alt mr-2"></i> Bogotá, Colombia</li>
            <li class="flex items-center"><i class="fas fa-phone-alt mr-2"></i> +57 300 123 4567</li>
            <li class="flex items-center"><i class="fas fa-envelope mr-2"></i> info@esmeraldascolombianas.com</li>
          </ul>
        </div>
        <div>
          <h3 class="text-xl font-bold mb-4">Newsletter</h3>
          <p class="mb-4">Suscríbete para recibir nuestras ofertas especiales.</p>
          <form class="flex">
            <input type="email" placeholder="Tu email" class="px-4 py-2 rounded-l text-gray-900 w-full">
            <button type="submit" class="bg-yellow-500 text-emerald-900 px-4 py-2 rounded-r font-bold">
              <i class="fas fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
      <div class="border-t border-emerald-800 mt-8 pt-8 text-center">
        <p>&copy; 2023 Esmeraldas Colombianas. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <script>
    const SHEET_CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTFNMh-dYZq0tHZHBGwyxZG8_gEj8rn4S6n2zrZGwZR_DomeelB14P_sxtV_i09vKu_CkLA05Hn1lJ-/pub?gid=0&single=true&output=csv";
    const CACHE_KEY = 'esmeraldas_products_cache';
    const CACHE_EXPIRATION = 30 * 60 * 1000; // 30 minutos en milisegundos
    const SHIPPING_COST = 20000; // Costo de envío fijo de $20,000 COP

    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    let products = [];

    function saveCart() {
      localStorage.setItem('cart', JSON.stringify(cart));
    }

    function updateCartCount() {
      const count = cart.reduce((total, item) => total + item.quantity, 0);
      document.getElementById('cart-count').textContent = count;
    }

    function updateCartDisplay() {
      const itemsContainer = document.getElementById('cart-items');
      const summary = document.getElementById('cart-summary');
      const emptyMsg = document.getElementById('empty-cart-message');
            
      itemsContainer.innerHTML = '';

      if (cart.length === 0) {
        emptyMsg.classList.remove('hidden');
        summary.classList.add('hidden');
      } else {
        emptyMsg.classList.add('hidden');
        summary.classList.remove('hidden');
                
        let subtotal = 0;

        cart.forEach((item, idx) => {
          const itemTotal = item.price * item.quantity;
          subtotal += itemTotal;

          const div = document.createElement('div');
          div.className = "flex items-center mb-4 border-b pb-4";
          div.innerHTML = `
            <img src="${item.images[0]}" class="w-16 h-16 object-cover rounded mr-3" />
            <div class="flex-1">
              <p class="font-medium">${item.title}</p>
              <p class="text-sm text-gray-500">${item.code}</p>
              <p class="font-bold text-yellow-500">$${item.price.toLocaleString()}</p>
              <div class="flex items-center mt-1">
                <button class="decrease bg-gray-200 hover:bg-gray-300 rounded-l px-2 py-1" data-id="${item.code}">-</button>
                <span class="px-2 bg-gray-100 py-1">${item.quantity}</span>
                <button class="increase bg-gray-200 hover:bg-gray-300 rounded-r px-2 py-1" data-id="${item.code}">+</button>
                <button class="remove ml-4 text-red-500 text-sm" data-id="${item.code}">
                  <i class="fas fa-trash-alt"></i> Eliminar
                </button>
              </div>
            </div>
          `;
          itemsContainer.appendChild(div);
        });

        // Calcular total con envío fijo
        const total = subtotal + SHIPPING_COST;

        // Actualizar resumen
        document.getElementById('cart-subtotal').textContent = `$${subtotal.toLocaleString()}`;
        document.getElementById('cart-shipping').textContent = `$${SHIPPING_COST.toLocaleString()}`;
        document.getElementById('cart-total').textContent = `$${total.toLocaleString()}`;
      }
      
      // Configurar eventos para los nuevos botones
      setupCartEventListeners();
    }

    function setupCartEventListeners() {
      // Eventos para aumentar/disminuir cantidad
      document.querySelectorAll('.increase').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const productId = btn.dataset.id;
          const itemIndex = cart.findIndex(item => item.code === productId);
          if (itemIndex !== -1) {
            cart[itemIndex].quantity++;
            saveCart();
            updateCartCount();
            updateCartDisplay();
          }
        });
      });

      document.querySelectorAll('.decrease').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const productId = btn.dataset.id;
          const itemIndex = cart.findIndex(item => item.code === productId);
          if (itemIndex !== -1) {
            if (cart[itemIndex].quantity > 1) {
              cart[itemIndex].quantity--;
            } else {
              cart.splice(itemIndex, 1);
            }
            saveCart();
            updateCartCount();
            updateCartDisplay();
          }
        });
      });

      // Eventos para eliminar productos
      document.querySelectorAll('.remove').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.preventDefault();
          const productId = btn.dataset.id;
          const itemIndex = cart.findIndex(item => item.code === productId);
          if (itemIndex !== -1) {
            cart.splice(itemIndex, 1);
            saveCart();
            updateCartCount();
            updateCartDisplay();
          }
        });
      });
    }

    function addToCart(prod) {
      // Verificar si el producto ya está en el carrito
      const existingItem = cart.find(item => item.code === prod.code);
      
      if (existingItem) {
        existingItem.quantity++;
      } else {
        // Asegurarse de que el producto tenga todas las propiedades necesarias
        const productToAdd = {
          code: prod.code || '',
          title: prod.titulo || 'Producto sin nombre',
          price: Number(prod.price) || 0,
          images: prod.images || ['https://via.placeholder.com/300'],
          quantity: 1
        };
        cart.push(productToAdd);
      }
            
      saveCart();
      updateCartCount();
      updateCartDisplay();

      // Mostrar notificación
      const notification = document.createElement('div');
      notification.className = 'fixed bottom-20 left-6 bg-emerald-600 text-white px-4 py-2 rounded shadow-lg z-50 animate-fade-in';
      notification.innerHTML = `<i class="fas fa-check-circle mr-2"></i> ${prod.titulo || 'Producto'} agregado al carrito`;
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.classList.add('opacity-0', 'transition-opacity', 'duration-300');
        setTimeout(() => notification.remove(), 300);
      }, 2000);
    }

    function createProductCard(p) {
      const card = document.createElement('div');
      card.className = "bg-white p-4 rounded-lg shadow hover:shadow-lg transition product-card";

      // Calcular precio con descuento si hay oferta
      const price = Number(p.price) || 0;
      const discount = p.oferta ? Number(p.oferta) : 0;
      const discountedPrice = discount > 0 ? Math.round(price * (1 - discount/100)) : price;

      card.innerHTML = `
        <div class="relative">
          <img src="${p.images[0] || 'https://via.placeholder.com/300'}" class="w-full h-48 object-cover mb-3 rounded" />
          ${discount > 0 ? `<span class="absolute top-2 right-2 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded">${discount}% OFF</span>` : ''}
        </div>
        <div class="px-2">
          <p class="text-sm font-semibold text-gray-500">${p.code || ''}</p>
          <h3 class="text-lg font-semibold text-emerald-900 mb-1">${p.titulo || ''}</h3>

          <div class="product-specs space-y-1 mb-3">
            ${p.forma ? `<p><span class="font-medium">Forma:</span> ${p.forma}</p>` : ''}
            ${p['peso quilates'] ? `<p><span class="font-medium">Peso:</span> ${p['peso quilates']} quilates</p>` : ''}
            ${p.medidas ? `<p><span class="font-medium">Medidas:</span> ${p.medidas}</p>` : ''}
            ${p.material ? `<p><span class="font-medium">Material:</span> ${p.material}</p>` : ''}
          </div>

          <div class="flex items-center justify-between">
            <div>
              <p class="text-lg font-bold ${discount > 0 ? 'text-red-500' : 'text-yellow-500'}">
                ${discount > 0 ? 
                    `<span class="original-price mr-2">$${price.toLocaleString()}</span>
                    <span>$${discountedPrice.toLocaleString()}</span>` : 
                    `$${price.toLocaleString()}`
                }
              </p>
            </div>
            <button class="add-to-cart bg-emerald-600 hover:bg-emerald-700 text-white py-2 px-3 rounded transition" 
                    data-code="${p.code || ''}" 
                    data-title="${p.titulo || ''}" 
                    data-price="${discountedPrice}" 
                    data-images="${JSON.stringify(p.images || ['https://via.placeholder.com/300'])}">
              <i class="fas fa-cart-plus"></i>
            </button>
          </div>
        </div>
      `;
      
      // Agregar evento al botón
      const addToCartBtn = card.querySelector('.add-to-cart');
      addToCartBtn.addEventListener('click', () => {
        const productData = {
          code: addToCartBtn.dataset.code,
          titulo: addToCartBtn.dataset.title,
          price: Number(addToCartBtn.dataset.price),
          images: JSON.parse(addToCartBtn.dataset.images)
        };
        addToCart(productData);
      });
      
      return card;
    }

    function filterProductsByCategory(category) {
      if (category === 'all') return products;

      // Mapeo de categorías con más flexibilidad
      const categoryMap = {
        'rings': ['anillos', 'anillo'],
        'earrings': ['aretes', 'arete', 'pendientes'],
        'bracelets': ['pulseras', 'pulsera'],
        'stones': ['piedras', 'piedra', 'gema', 'gemas'],
        'charms': ['dijes', 'dije']
      };

      const categoryValues = categoryMap[category] || [category];
      return products.filter(p => {
        if (!p.categoria) return false;

        // Buscar coincidencia con cualquiera de los valores posibles
        return categoryValues.some(val => 
          p.categoria.toLowerCase().includes(val.toLowerCase())
        );
      });
    }

    function displayProductsByCategory(category) {
      const filteredProducts = filterProductsByCategory(category);
      const container = document.getElementById(`products-grid-${category}`);

      if (!container) return; // Si no existe el contenedor, salir

      container.innerHTML = '';

      if (filteredProducts.length === 0) {
        container.innerHTML = `
          <div class="col-span-full text-center py-12">
            <i class="fas fa-gem text-4xl text-gray-300 mb-4"></i>
            <p class="text-gray-500">No encontramos productos en esta categoría</p>
          </div>
        `;
      } else {
        // Ordenar productos alfabéticamente
        filteredProducts.sort((a, b) => a.titulo.localeCompare(b.titulo));

        filteredProducts.forEach(p => {
          container.appendChild(createProductCard(p));
        });
      }
    }

    function clearAllProductGrids() {
      const categories = ['all', 'rings', 'earrings', 'bracelets', 'stones', 'charms'];
      categories.forEach(cat => {
        const container = document.getElementById(`products-grid-${cat}`);
        if (container) container.innerHTML = '';
      });
    }

    function updateAllProductGrids() {
      const categories = ['all', 'rings', 'earrings', 'bracelets', 'stones', 'charms'];
      categories.forEach(cat => {
        displayProductsByCategory(cat);
      });
    }

    async function loadProductsFromSheet() {
      try {
        // Mostrar estado de carga
        document.getElementById('loading-products').classList.remove('hidden');

        const timestamp = Date.now();
        // Agregar timestamp a la URL para evitar caché del navegador
        const url = `${SHEET_CSV_URL}&timestamp=${timestamp}`;

        const res = await fetch(url);
        const text = await res.text();
        // Mejorar el parseo del CSV para manejar comas dentro de campos
        const rows = Papa.parse(text, {skipEmptyLines: true}).data;
        const headers = rows.shift();

        products = rows.map(r => {
          const obj = {};
          headers.forEach((h, i) => {
            // Limpiar y normalizar cada valor
            const value = r[i] ? r[i].toString().trim() : '';
            obj[h.trim()] = value;
          });

          // Procesar campos específicos
          obj.images = obj.imagenes ? 
              obj.imagenes.split(',').map(img => img.trim()).filter(img => img.startsWith('http')) 
              : ['https://via.placeholder.com/300'];

          obj.price = Number(obj.precio) || 0;
          obj.code = obj.codigo || '';
          obj.title = obj.titulo || '';

          // Normalizar categorías
          obj.categoria = obj.categoria ? 
              obj.categoria.trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "") 
              : '';

          // Mapear categorías alternativas a las principales
          if (obj.categoria.includes('piedra') || obj.categoria.includes('gema')) {
            obj.categoria = 'piedras';
          }

          // Asegurar que los campos de especificaciones estén limpios
          obj.forma = obj.forma || '';
          obj['peso quilates'] = obj['peso quilates'] || '';
          obj.medidas = obj.medidas || '';
          obj.material = obj.material || '';
          obj.oferta = obj.oferta || '';

          return obj;
        });

        // Guardar en caché
        const cacheData = {
          products: products,
          timestamp: timestamp
        };
        localStorage.setItem(CACHE_KEY, JSON.stringify(cacheData));

        // Actualizar todas las rejillas de productos
        updateAllProductGrids();

        // Ocultar estado de carga
        document.getElementById('loading-products').classList.add('hidden');

        // Mostrar notificación de éxito
        showNotification('Productos actualizados correctamente', 'success');

      } catch (error) {
        console.error('Error loading products:', error);

        // Ocultar estado de carga
        document.getElementById('loading-products').classList.add('hidden');

        // Mostrar notificación de error
        showNotification('Error al cargar los productos. Mostrando versión en caché.', 'error');

        // Intentar cargar desde caché si hay error
        loadProductsFromCache();
      }
    }

    function loadProductsFromCache() {
      const cachedData = localStorage.getItem(CACHE_KEY);
      if (cachedData) {
        const { products: cachedProducts } = JSON.parse(cachedData);
        products = cachedProducts;
        updateAllProductGrids();
      } else {
        // Mostrar mensaje de error si no hay caché
        document.getElementById('products-grid-all').innerHTML = `
          <div class="col-span-full text-center py-12">
            <i class="fas fa-exclamation-triangle text-4xl text-red-500 mb-4"></i>
            <p class="text-gray-700">Error cargando los productos. Por favor intenta más tarde.</p>
          </div>
        `;
      }
    }

    function checkCacheExpiration() {
      const cachedData = localStorage.getItem(CACHE_KEY);
      if (cachedData) {
        const { timestamp } = JSON.parse(cachedData);
        const now = Date.now();
        if (now - timestamp > CACHE_EXPIRATION) {
          // El caché ha expirado, cargar datos frescos
          loadProductsFromSheet();
        } else {
          // Usar caché existente
          loadProductsFromCache();
        }
      } else {
        // No hay caché, cargar datos frescos
        loadProductsFromSheet();
      }
    }

    function showNotification(message, type = 'info') {
      const notification = document.createElement('div');
      notification.className = `fixed top-4 right-4 px-4 py-2 rounded shadow-lg z-50 animate-fade-in ${
        type === 'success' ? 'bg-green-500 text-white' : 
        type === 'error' ? 'bg-red-500 text-white' : 
        'bg-blue-500 text-white'
      }`;
      notification.innerHTML = `
        <div class="flex items-center">
          <i class="fas ${
            type === 'success' ? 'fa-check-circle' : 
            type === 'error' ? 'fa-exclamation-circle' : 
            'fa-info-circle'
          } mr-2"></i>
          <span>${message}</span>
        </div>
      `;
      document.body.appendChild(notification);

      setTimeout(() => {
        notification.classList.add('opacity-0', 'transition-opacity', 'duration-300');
        setTimeout(() => notification.remove(), 300);
      }, 3000);
    }

    // Controles carrito
    document.getElementById('cart-button').onclick = () => {
      document.getElementById('cart-sidebar').classList.remove('translate-x-full');
      document.getElementById('cart-overlay').classList.remove('hidden');
      document.body.style.overflow = 'hidden';
      updateCartDisplay();
    };

    document.getElementById('close-cart').onclick = () => {
      document.getElementById('cart-sidebar').classList.add('translate-x-full');
      document.getElementById('cart-overlay').classList.add('hidden');
      document.body.style.overflow = '';
    };

    document.getElementById('cart-overlay').onclick = document.getElementById('close-cart').onclick;

    // Control de pestañas
    document.querySelectorAll('.tab-button').forEach(button => {
      button.addEventListener('click', () => {
        // Remover clase active de todos los botones
        document.querySelectorAll('.tab-button').forEach(btn => {
          btn.classList.remove('active');
        });

        // Agregar clase active al botón clickeado
        button.classList.add('active');

        // Ocultar todos los contenidos
        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.remove('active');
        });

        // Mostrar el contenido correspondiente
        const tabId = button.getAttribute('data-tab');
        document.getElementById(tabId).classList.add('active');
      });
    });

    // Control de navegación entre páginas
    document.querySelectorAll('.nav-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const page = link.getAttribute('data-page');

        // Ocultar todas las secciones
        document.querySelectorAll('.page-section').forEach(section => {
          section.classList.remove('active');
        });

        // Mostrar la sección seleccionada
        document.getElementById(page).classList.add('active');

        // Cerrar menú móvil si está abierto
        document.getElementById('mobile-menu').classList.remove('open');

        // Scroll al inicio
        window.scrollTo(0, 0);
      });
    });

    // Control de categorías desde imágenes
    document.querySelectorAll('.category-link').forEach(link => {
      link.addEventListener('click', (e) => {
        e.preventDefault();
        const tab = link.getAttribute('data-tab');

        // Activar la pestaña correspondiente
        document.querySelectorAll('.tab-button').forEach(btn => {
          btn.classList.remove('active');
          if (btn.getAttribute('data-tab') === tab) {
            btn.classList.add('active');
          }
        });

        // Mostrar el contenido de la categoría
        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.remove('active');
          if (content.id === tab) {
            content.classList.add('active');
          }
        });

        // Ir a la sección de productos
        document.getElementById('products').scrollIntoView({ behavior: 'smooth' });

        // Si estamos en una página diferente a Home, cambiar a Home
        if (!document.getElementById('home').classList.contains('active')) {
          document.querySelectorAll('.page-section').forEach(section => {
            section.classList.remove('active');
          });
          document.getElementById('home').classList.add('active');
        }
      });
    });

    // Botón de actualización de productos
    document.getElementById('refresh-products').addEventListener('click', (e) => {
      e.preventDefault();
      loadProductsFromSheet();
    });

    // Menú móvil
    document.getElementById('mobile-menu-button').addEventListener('click', () => {
      document.getElementById('mobile-menu').classList.toggle('open');
    });

    // Inicialización
    document.addEventListener('DOMContentLoaded', () => {
      // Cargar productos (primero verifica caché)
      checkCacheExpiration();

      // Inicializar carrito
      updateCartCount();
      updateCartDisplay();

      // Mostrar la página de inicio por defecto
      document.getElementById('home').classList.add('active');

      // Configurar actualización automática cada 5 minutos (opcional)
      setInterval(checkCacheExpiration, 5 * 60 * 1000);
    });
  </script>
</body>
</html>
